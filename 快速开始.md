# GAC Code çŠ¶æ€æ  - å¿«é€Ÿå¼€å§‹

> **å¿«é€Ÿå¼€å§‹æ¨¡å¼**: ä½¿ç”¨å®˜æ–¹ Claude Code + GAC çŠ¶æ€æ ï¼Œæ— éœ€è‡ªå®šä¹‰å¯åŠ¨è„šæœ¬

## ğŸ“¥ ä¸‹è½½å’Œå®‰è£…

### 1. ä¸‹è½½é¡¹ç›®

```bash
# ä¸‹è½½åˆ° Claude Code æ¨èä½ç½®
git clone https://github.com/DrayChou/gaccode-statusline.git ~/.claude/scripts/gaccode.com
cd ~/.claude/scripts/gaccode.com
```

### 2. å®‰è£…ä¾èµ–

```bash
# ç¡®ä¿å®‰è£…äº† Python 3.7+
python --version

# å®‰è£…å¿…éœ€çš„ Python åŒ…
pip install requests pathlib
```

## ğŸ”‘ å®‰å…¨é…ç½® API å¯†é’¥

### è·å– login_token

1. è®¿é—® [GAC Code å®˜ç½‘](https://gaccode.com)
2. ç™»å½•ä½ çš„è´¦æˆ·
3. æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…· (F12)
4. åœ¨ç½‘ç»œ (Network) æ ‡ç­¾é¡µä¸­æ‰¾åˆ°ä»»ä½• API è¯·æ±‚
5. åœ¨è¯·æ±‚å¤´ä¸­æ‰¾åˆ° `Authorization: Bearer xxxxxx`ï¼Œå¤åˆ¶ `xxxxxx` éƒ¨åˆ†

### ğŸ›¡ï¸ å®‰å…¨é…ç½®æ–¹å¼

**æ¨èæ–¹å¼1: é…ç½®æ–‡ä»¶**ï¼ˆæœ€å®‰å…¨ï¼‰
```bash
# ç›´æ¥ç¼–è¾‘é…ç½®æ–‡ä»¶ examples/launcher-config.json
# åœ¨ platforms.gaccode.login_token å­—æ®µæ·»åŠ æ‚¨çš„ä»¤ç‰Œ
# è¿™é¿å…äº†åœ¨å‘½ä»¤è¡Œå†å²ä¸­æš´éœ²å¯†é’¥

# éªŒè¯é…ç½®
python platform_manager.py list

# å®‰å…¨æé†’ï¼šä¸è¦åœ¨å‘½ä»¤è¡Œä¸­ç›´æ¥ä¼ é€’APIå¯†é’¥
```

**æ–¹å¼2: é…ç½®æ–‡ä»¶**ï¼ˆæœ¬åœ°å¼€å‘ï¼‰

ç›´æ¥ç¼–è¾‘è¿è¡Œæ—¶é…ç½®æ–‡ä»¶ `data/config/platform-config.json`ï¼š

```json
{
  "platforms": {
    "gaccode": {
      "name": "GAC Code",
      "api_base_url": "https://gaccode.com/api",
      "api_key": "",
      "login_token": "REPLACE-WITH-YOUR-ACTUAL-TOKEN",
      "model": "claude-3-5-sonnet-20241022",
      "small_model": "claude-3-5-haiku-20241022", 
      "enabled": true
    }
  },
  "settings": {
    "default_platform": "gaccode"
  }
}
```

âš ï¸ **å®‰å…¨æé†’**: 
- é…ç½®æ–‡ä»¶ä¸­çš„çœŸå®APIå¯†é’¥ä¼šè¢«`.gitignore`æ’é™¤ï¼Œä¸ä¼šæäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶
- æ¨èä½¿ç”¨ç¯å¢ƒå˜é‡é¿å…åœ¨æ–‡ä»¶ä¸­å­˜å‚¨æ•æ„Ÿä¿¡æ¯
- é…ç½®å®Œæˆåè¯·éªŒè¯æ•æ„Ÿä¿¡æ¯ä¸ä¼šå‡ºç°åœ¨æ—¥å¿—ä¸­

ğŸ’¡ **æ³¨æ„**: å¿«é€Ÿå¼€å§‹æ¨¡å¼ç›´æ¥ç¼–è¾‘ `data/config/platform-config.json`ï¼Œè·³è¿‡é…ç½®æ–‡ä»¶åŒæ­¥æœºåˆ¶ã€‚

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### é…ç½®å®˜æ–¹ Claude Code çŠ¶æ€æ  (å¿«é€Ÿå¼€å§‹)

é…ç½®ä½ çš„å®˜æ–¹ Claude Code ä»¥æ˜¾ç¤º GAC API ä½™é¢ï¼š

1. **é…ç½® Claude Code çŠ¶æ€æ **

   ç¼–è¾‘ Claude Code é…ç½®æ–‡ä»¶ï¼š
   - **Windows**: `%USERPROFILE%\.config\claude-code\config.json`
   - **Mac/Linux**: `~/.config/claude-code/config.json`

   ```json
   {
     "statusLine": {
       "type": "command",
       "command": "python ~/.claude/scripts/gaccode.com/statusline.py",
       "refreshInterval": 1000
     }
   }
   ```

2. **å¯åŠ¨ Claude Code**

   ```bash
   claude
   ```

   çŠ¶æ€æ ä¼šè‡ªåŠ¨æ˜¾ç¤ºï¼š

   - âœ… GAC API ä½™é¢ (è‡ªåŠ¨ fallback åˆ° GAC Code å¹³å°)
   - ğŸ“Š å½“å‰æ¨¡å‹ä¿¡æ¯
   - ğŸŒ¿ Git åˆ†æ”¯ä¿¡æ¯
   - â±ï¸ ä¼šè¯æ—¶é•¿

### é«˜çº§æ¨¡å¼ï¼šè‡ªå®šä¹‰å¯åŠ¨å™¨ (å¯é€‰)

å¦‚æœä½ éœ€è¦å¤šå¹³å°æ”¯æŒå’Œé«˜çº§ä¼šè¯ç®¡ç†ï¼Œå¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰å¯åŠ¨å™¨ï¼š

```bash
# Windows PowerShell
./examples/cc.mp.ps1              # å¯åŠ¨é»˜è®¤å¹³å° (GAC Code)
./examples/cc.mp.ps1 --continue   # ç»§ç»­ä¸Šæ¬¡ä¼šè¯

# Linux/Mac
./examples/cc.mp.sh               # å¯åŠ¨é»˜è®¤å¹³å° (GAC Code)
./examples/cc.mp.sh --continue    # ç»§ç»­ä¸Šæ¬¡ä¼šè¯

# ç›´æ¥ä½¿ç”¨ Python launcher
python examples/launcher.py      # å¯åŠ¨é»˜è®¤å¹³å° (GAC Code)
python examples/launcher.py --continue  # ç»§ç»­ä¸Šæ¬¡ä¼šè¯
```

**é«˜çº§æ¨¡å¼é…ç½®**: ç¼–è¾‘ `examples/launcher-config.json` (ä¼šè‡ªåŠ¨åŒæ­¥åˆ° `data/config/launcher-config.json`)

## ğŸ“Š çŠ¶æ€æ æ˜¾ç¤ºå†…å®¹

çŠ¶æ€æ ä¼šæ˜¾ç¤ºä»¥ä¸‹ä¿¡æ¯ï¼š

```
Claude v1.2.3 | claude-3-5-sonnet | Balance:Â¥45.67 | Git:main | 12:34
```

- **å¹³å°ä¿¡æ¯**: å½“å‰ä½¿ç”¨çš„ AI å¹³å°
- **æ¨¡å‹ä¿¡æ¯**: å½“å‰ä½¿ç”¨çš„æ¨¡å‹
- **ä½™é¢ä¿¡æ¯**: API è´¦æˆ·ä½™é¢
- **Git ä¿¡æ¯**: å½“å‰åˆ†æ”¯å’ŒçŠ¶æ€
- **æ—¶é•¿ä¿¡æ¯**: å½“å‰ä¼šè¯æ—¶é•¿

## ğŸ”§ è‡ªå®šä¹‰é…ç½®

### çŠ¶æ€æ æ˜¾ç¤ºé€‰é¡¹

ç¼–è¾‘ `data/config/statusline-config.json`ï¼š

```json
{
  "show_balance": true, // æ˜¾ç¤ºä½™é¢ä¿¡æ¯
  "show_subscription": false, // æ˜¾ç¤ºè®¢é˜…ä¿¡æ¯
  "show_git_branch": true, // æ˜¾ç¤º Git åˆ†æ”¯
  "show_session_duration": true, // æ˜¾ç¤ºä¼šè¯æ—¶é•¿
  "layout": "single_line", // å¸ƒå±€æ–¹å¼: single_line æˆ– multi_line
  "refresh_interval": 1000 // åˆ·æ–°é—´éš” (æ¯«ç§’)
}
```

## ğŸš¨ å¸¸è§é—®é¢˜

### Q: çŠ¶æ€æ ä¸æ˜¾ç¤ºä½™é¢ï¼Ÿ

**A**: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š

1. `login_token` æ˜¯å¦æ­£ç¡®é…ç½®
2. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸
3. GAC Code è´¦æˆ·æ˜¯å¦æœ‰æ•ˆ

### Q: Claude Code æ‰¾ä¸åˆ°çŠ¶æ€æ è„šæœ¬ï¼Ÿ

**A**: ç¡®ä¿ï¼š

1. Python è·¯å¾„æ­£ç¡®
2. è„šæœ¬è·¯å¾„ä½¿ç”¨ç»å¯¹è·¯å¾„
3. Python ä¾èµ–å·²å®‰è£…

### Q: æ€æ ·æµ‹è¯•çŠ¶æ€æ æ˜¯å¦å·¥ä½œï¼Ÿ

**A**: å¿«é€Ÿå¼€å§‹æ¨¡å¼æµ‹è¯•ï¼š

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd ~/.claude/scripts/gaccode.com

# åŸºç¡€æµ‹è¯•ï¼ˆä¸ä½¿ç”¨çœŸå®APIï¼‰
echo '{"session_id":"test-official-claude","model":{"display_name":"Claude 3.5 Sonnet"}}' | python statusline.py

# æµ‹è¯•2ä½åå…­è¿›åˆ¶UUIDå‰ç¼€æ£€æµ‹ï¼ˆGAC Code = 01å‰ç¼€ï¼‰
echo '{"session_id":"01abcdef-1234-5678-9012-123456789abc","model":{"display_name":"Test"}}' | python statusline.py

# æµ‹è¯•å¹³å°æ£€æµ‹æœºåˆ¶
python -c "from data.session_manager import detect_platform_from_session_id; print(detect_platform_from_session_id('01abcdef-1234-5678-9012-123456789abc'))"
```

åº”è¯¥çœ‹åˆ°ç±»ä¼¼è¾“å‡ºï¼š
```
Model:Claude 3.5 Sonnet Time:13:23:45 Today:$27.49 GAC.B:9535/12000 Git:main
```

**å®‰å…¨æµ‹è¯•**:
```bash
# éªŒè¯æ•æ„Ÿä¿¡æ¯ä¸ä¼šå‡ºç°åœ¨è¾“å‡ºä¸­ï¼ˆAPIå¯†é’¥åº”è¯¥è¢«å±è”½ï¼‰
python platform_manager.py list

# æµ‹è¯•UUIDå‰ç¼€æ£€æµ‹ï¼ˆåº”è¿”å›gaccodeï¼‰
python -c "from data.session_manager import detect_platform_from_session_id; print('Platform:', detect_platform_from_session_id('01abcdef-1234-5678-9012-123456789abc'))"
```

### Q: æƒ³è¦ä½¿ç”¨å…¶ä»– AI å¹³å°ï¼Ÿ

**A**:

1. åœ¨ `launcher-config.json` ä¸­é…ç½®å¯¹åº”å¹³å°çš„ API key
2. è®¾ç½® `enabled: true`
3. ä½¿ç”¨å¯åŠ¨å™¨æŒ‡å®šå¹³å°ï¼š`./cc.mp.ps1 dp` (DeepSeek)

## ğŸ“ å¿«é€Ÿå¼€å§‹å®Œæ•´ç¤ºä¾‹

### 5åˆ†é’Ÿè®¾ç½®æµç¨‹

1. **ä¸‹è½½é¡¹ç›®**
   ```bash
   git clone https://github.com/DrayChou/gaccode-statusline.git ~/.claude/scripts/gaccode.com
   cd ~/.claude/scripts/gaccode.com
   ```

2. **å®‰å…¨é…ç½® GAC token**
   
   **æ–¹å¼1: ç¯å¢ƒå˜é‡**ï¼ˆæ¨èï¼‰
   ```bash
   # è®¾ç½®ç¯å¢ƒå˜é‡
   export GAC_LOGIN_TOKEN="your-actual-token-here"
   
   # ä½¿ç”¨å¹³å°ç®¡ç†å™¨å®‰å…¨é…ç½®
   # è¯·æ‰‹åŠ¨ç¼–è¾‘ examples/launcher-config.json æ–‡ä»¶é…ç½®APIå¯†é’¥
   # å®‰å…¨æé†’ï¼šé¿å…åœ¨å‘½ä»¤è¡Œä¸­ç›´æ¥ä¼ é€’å¯†é’¥
   ```
   
   **æ–¹å¼2: é…ç½®æ–‡ä»¶**ï¼ˆæœ¬åœ°å¼€å‘ï¼‰
   ```bash
   # åˆ›å»ºé…ç½®æ–‡ä»¶
   mkdir -p data/config
   
   # ç¼–è¾‘é…ç½®æ–‡ä»¶
   nano data/config/platform-config.json
   ```
   
   æ›¿æ¢é…ç½®æ¨¡æ¿ä¸­çš„ `REPLACE-WITH-YOUR-ACTUAL-TOKEN` ä¸ºä½ çš„å®é™… token

3. **é…ç½® Claude Code çŠ¶æ€æ **
   ```bash
   # ç¼–è¾‘ Claude Code é…ç½®
   nano ~/.config/claude-code/config.json
   
   # æ·»åŠ  statusLine é…ç½®
   ```

4. **æµ‹è¯•é…ç½®**
   ```bash
   # æµ‹è¯•çŠ¶æ€æ åŸºæœ¬åŠŸèƒ½
   echo '{"session_id":"test","model":{"display_name":"Test"}}' | python statusline.py
   
   # æµ‹è¯•ä¼˜åŒ–çš„UUIDå‰ç¼€æ£€æµ‹
   echo '{"session_id":"01abcdef-1234-5678-9012-123456789abc","model":{"display_name":"Test"}}' | python statusline.py
   
   # éªŒè¯å¹³å°é…ç½®ï¼ˆæ•æ„Ÿä¿¡æ¯ä¼šè¢«å±è”½ï¼‰
   python platform_manager.py list
   ```

5. **å¯åŠ¨ Claude Code**
   ```bash
   claude
   ```

ç°åœ¨ä½ åº”è¯¥çœ‹åˆ°å¸¦æœ‰ GAC ä½™é¢ä¿¡æ¯çš„çŠ¶æ€æ äº†ï¼ğŸ‰

**é‡ç‚¹**: å¿«é€Ÿå¼€å§‹æ¨¡å¼ç›´æ¥ç¼–è¾‘ `data/config/launcher-config.json`ï¼Œæ— éœ€å¯åŠ¨è„šæœ¬ï¼

## ğŸ”— ç›¸å…³é“¾æ¥

- [GAC Code å®˜ç½‘](https://gaccode.com)
- [Claude Code å®˜æ–¹æ–‡æ¡£](https://docs.anthropic.com/claude/claude-code)
- [å®Œæ•´é…ç½®è¯´æ˜](./README.md)
- [é—®é¢˜åé¦ˆ](https://github.com/DrayChou/issues)
