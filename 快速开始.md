# GAC Code çŠ¶æ€æ  v2.0 - å¿«é€Ÿå¼€å§‹

> **çº¯é…ç½®é©±åŠ¨æ¨¡å¼**: åªéœ€ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œç³»ç»Ÿè‡ªåŠ¨å·¥ä½œï¼Œæ— éœ€è®°å¿†ä»»ä½•å‘½ä»¤ï¼

## ğŸš€ 5åˆ†é’Ÿå¿«é€Ÿéƒ¨ç½²

### 1. ä¸‹è½½é¡¹ç›®

```bash
# å…‹éš†åˆ°æ¨èä½ç½®
git clone https://github.com/DrayChou/gaccode-statusline.git ~/.claude/scripts/gaccode.com
cd ~/.claude/scripts/gaccode.com

# æˆ–å…‹éš†åˆ°è‡ªå®šä¹‰ä½ç½®
git clone https://github.com/DrayChou/gaccode-statusline.git
cd gaccode-statusline
```

### 2. åˆå§‹åŒ–é…ç½®

```bash
# è‡ªåŠ¨åˆ›å»ºé…ç½®æ–‡ä»¶
python setup-config.py
```

### 3. é…ç½®Claude CodeçŠ¶æ€æ 

ç¼–è¾‘Claude Codeé…ç½®æ–‡ä»¶ï¼š
- **Windows**: `%APPDATA%\.config\claude-code\settings.json`
- **Mac/Linux**: `~/.config/claude-code/settings.json`

```json
{
  "statusLine": {
    "type": "command",
    "command": "python ~/.claude/scripts/gaccode.com/statusline.py",
    "refreshInterval": 1000
  }
}
```

### 4. å¯åŠ¨æµ‹è¯•

```bash
# ç›´æ¥å¯åŠ¨Claude Code
claude
```

**âœ… å®Œæˆï¼** ç°åœ¨æ‚¨å·²ç»æ‹¥æœ‰äº†ä¸€ä¸ªå¸¦æœ‰æ™ºèƒ½çŠ¶æ€æ çš„Claude Codeç¯å¢ƒï¼

## âš™ï¸ é…ç½®æ‚¨çš„APIå¯†é’¥

### é…ç½®APIå¯†é’¥ï¼šç¼–è¾‘é…ç½®æ–‡ä»¶

ç¼–è¾‘ `data/config/config.json`ï¼š

```json
{
  "platforms": {
    "gaccode": {
      "name": "GAC Code",
      "api_base_url": "https://relay05.gaccode.com/claudecode",
      "api_key": "sk-your-api-key",
      "enabled": true
    },
    "deepseek": {
      "name": "DeepSeek", 
      "api_base_url": "https://api.deepseek.com/anthropic",
      "api_key": "sk-your-deepseek-key",
      "enabled": true
    }
  },
  "launcher": {
    "default_platform": "gaccode"
  },
  "statusline": {
    "show_balance": true,
    "show_model": true,
    "show_git_branch": true,
    "layout": "single_line"
  }
}
```

**ğŸ’¡ å®‰å…¨æé†’**: é…ç½®æ–‡ä»¶å·²æ·»åŠ åˆ° `.gitignore`ï¼Œä¸ä¼šè¢«æ„å¤–æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ã€‚

## ğŸ¯ å››ç§ä½¿ç”¨æ¨¡å¼ï¼ˆè‡ªåŠ¨æ£€æµ‹ï¼‰

ç³»ç»Ÿä¼šæ ¹æ®æ‚¨çš„é…ç½®è‡ªåŠ¨é€‰æ‹©æœ€é€‚åˆçš„æ¨¡å¼ï¼š

### 1. é›¶é…ç½®æ¨¡å¼ âš«
- **è§¦å‘**: æ²¡æœ‰é…ç½®ä»»ä½•APIå¯†é’¥
- **æ˜¾ç¤º**: åŸºæœ¬ä¼šè¯ä¿¡æ¯ï¼Œæ— ä½™é¢æ˜¾ç¤º
- **é€‚ç”¨**: å¿«é€Ÿè¯•ç”¨ï¼Œæ¼”ç¤º

```bash
# æ˜¾ç¤ºç¤ºä¾‹
Model:Claude-3.5-Sonnet Time:13:24:15 Git:main Dir:myproject
```

### 2. åŸºç¡€æ¨¡å¼ ğŸ”µ
- **è§¦å‘**: ä»…é…ç½®GAC Code APIå¯†é’¥
- **æ˜¾ç¤º**: è‡ªåŠ¨æ˜¾ç¤ºGAC Codeä½™é¢
- **é€‚ç”¨**: åªä½¿ç”¨GAC Codeçš„ç”¨æˆ·

```bash
# æ˜¾ç¤ºç¤ºä¾‹
Model:Claude-3.5-Sonnet Time:13:24:15 GAC.B:2692/12000 Git:main Dir:myproject
```

### 3. å•å¹³å°æ¨¡å¼ ğŸŸ¢
- **è§¦å‘**: è®¾ç½®äº†é»˜è®¤å¹³å°å’Œå¯¹åº”APIå¯†é’¥
- **æ˜¾ç¤º**: æ˜¾ç¤ºæŒ‡å®šå¹³å°ä½™é¢
- **é€‚ç”¨**: ä¸»è¦ä½¿ç”¨æŸä¸ªç‰¹å®šå¹³å°

```bash
# DeepSeekç¤ºä¾‹
Model:deepseek-v3.1 Time:13:24:15 Balance:Â¥45.60/Â¥100 Git:main Dir:myproject
```

### 4. å¤šå¹³å°æ¨¡å¼ ğŸŸ¡
- **è§¦å‘**: é…ç½®å¤šå¹³å° + ä½¿ç”¨å¯åŠ¨è„šæœ¬
- **æ˜¾ç¤º**: æ ¹æ®å¯åŠ¨å‚æ•°æ˜¾ç¤ºå¯¹åº”å¹³å°
- **é€‚ç”¨**: éœ€è¦åœ¨å¤šä¸ªå¹³å°é—´åˆ‡æ¢

```bash
# åˆ‡æ¢å¹³å°ä½¿ç”¨
./bin/cc.mp.sh deepseek  # DeepSeekå¹³å°
./bin/cc.mp.sh kimi      # Kimiå¹³å°
./bin/cc.mp.sh dp        # DeepSeekç®€å†™
```

## ğŸ§ª åŠŸèƒ½éªŒè¯

### åŸºç¡€æµ‹è¯•

```bash
# æµ‹è¯•çŠ¶æ€æ åŸºæœ¬åŠŸèƒ½
echo '{"session_id":"test"}' | python statusline.py

# æµ‹è¯•å¹³å°æ£€æµ‹ï¼ˆDeepSeekå‰ç¼€02ï¼‰
echo '{"session_id":"02abcdef-1234-5678-9012-123456789abc"}' | python statusline.py
```

### é…ç½®éªŒè¯

```bash
# éªŒè¯é…ç½®æ–‡ä»¶æ ¼å¼
python -c "import json; print('âœ… Config valid' if json.load(open('data/config/config.json')) else 'âŒ Config invalid')"

# éªŒè¯é…ç½®æ–‡ä»¶åŠ è½½
python -c "from config import get_config_manager; cm = get_config_manager(); print('âœ… Config loaded' if cm.get_config() else 'âšª Config not found')"
```

### æˆåŠŸæ ‡å¿—

å¦‚æœé…ç½®æ­£ç¡®ï¼Œæ‚¨åº”è¯¥çœ‹åˆ°ç±»ä¼¼è¾“å‡ºï¼š

```bash
# é›¶é…ç½®æ¨¡å¼
Model:Claude-3.5-Sonnet Time:13:24:15 Git:main Dir:myproject

# é…ç½®APIå¯†é’¥å
Model:Claude-3.5-Sonnet Time:13:24:15 GAC.B:2692/12000 Git:main Dir:myproject
```

## ğŸ¨ ä¸ªæ€§åŒ–é…ç½®

### çŠ¶æ€æ æ˜¾ç¤ºé…ç½®

ç¼–è¾‘ `data/config/config.json` ä¸­çš„ `statusline` éƒ¨åˆ†ï¼š

```json
{
  "statusline": {
    "show_balance": true,          // æ˜¾ç¤ºä½™é¢ä¿¡æ¯
    "show_model": true,            // æ˜¾ç¤ºAIæ¨¡å‹å
    "show_directory": true,        // æ˜¾ç¤ºå½“å‰ç›®å½•
    "show_git_branch": true,       // æ˜¾ç¤ºGitåˆ†æ”¯
    "show_time": true,             // æ˜¾ç¤ºå½“å‰æ—¶é—´
    "show_session_cost": true,     // æ˜¾ç¤ºä¼šè¯æˆæœ¬
    "show_today_usage": true,      // æ˜¾ç¤ºä»Šæ—¥ä½¿ç”¨é‡
    "layout": "single_line"        // å¸ƒå±€ï¼šsingle_line æˆ– multi_line
  }
}
```

### å¹³å°é…ç½®

```json
{
  "platforms": {
    "gaccode": {
      "name": "GAC Code",
      "api_base_url": "https://relay05.gaccode.com/claudecode",
      "api_key": "sk-your-api-key", // å¡«å…¥æ‚¨çš„APIå¯†é’¥
      "enabled": true
    },
    "deepseek": {
      "name": "DeepSeek",
      "api_base_url": "https://api.deepseek.com/anthropic",
      "api_key": "sk-your-api-key", // å¡«å…¥æ‚¨çš„APIå¯†é’¥
      "model": "deepseek-chat",
      "enabled": true
    }
  },
  "launcher": {
    "default_platform": "gaccode"   // è®¾ç½®é»˜è®¤å¹³å°
  }
}
```

## ğŸ”§ é«˜çº§ç”¨æ³•

### å¹³å°åˆ‡æ¢

```bash
# ä¸´æ—¶ä½¿ç”¨DeepSeekå¹³å°
./bin/cc.mp.sh deepseek

# ä¸´æ—¶ä½¿ç”¨Kimiå¹³å°
./bin/cc.mp.sh kimi

# ä½¿ç”¨å¹³å°åˆ«å
./bin/cc.mp.sh dp    # DeepSeek
./bin/cc.mp.sh gc    # GAC Code
```

### ä¼šè¯ç»§ç»­

```bash
# ç»§ç»­ä¸Šæ¬¡ä¼šè¯
./bin/cc.mp.sh --continue

# æŒ‡å®šå¹³å°å¹¶ç»§ç»­ä¼šè¯
./bin/cc.mp.sh deepseek --continue
```

## â“ å¸¸è§é—®é¢˜

### Q: çŠ¶æ€æ æ˜¾ç¤ºä¸å‡ºæ¥ï¼Ÿ

**A**: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. Pythonè·¯å¾„æ˜¯å¦æ­£ç¡®
2. statusline.pyæ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®
3. Claude Codeé…ç½®æ–‡ä»¶æ˜¯å¦ä¿å­˜
4. æƒé™æ˜¯å¦è¶³å¤Ÿ

**è°ƒè¯•æ–¹æ³•**:
```bash
# æµ‹è¯•Pythonå’Œè„šæœ¬
python statusline.py --version 2>/dev/null || echo "âŒ Pythonæˆ–è„šæœ¬è·¯å¾„é”™è¯¯"

# æµ‹è¯•åŸºæœ¬åŠŸèƒ½
echo '{}' | python statusline.py
```

### Q: çŠ¶æ€æ æ²¡æœ‰ä½™é¢ä¿¡æ¯ï¼Ÿ

**A**: æ£€æŸ¥APIå¯†é’¥é…ç½®ï¼š
1. é…ç½®æ–‡ä»¶ä¸­APIå¯†é’¥æ˜¯å¦æ­£ç¡®å¡«å†™
2. é…ç½®æ–‡ä»¶æ ¼å¼æ˜¯å¦æ­£ç¡®
3. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸

**è°ƒè¯•æ–¹æ³•**:
```bash
# æ£€æŸ¥é…ç½®æ–‡ä»¶å†…å®¹
python -c "from config import get_config_manager; cm = get_config_manager(); print('API Key configured:', bool(cm.get_platform_config('gaccode', {}).get('api_key')))"

# æµ‹è¯•é…ç½®åŠ è½½
python -c "from config import get_config_manager; cm = get_config_manager(); print('âœ… Config loaded' if cm else 'âŒ Config failed')"
```

### Q: å¦‚ä½•åˆ‡æ¢é»˜è®¤å¹³å°ï¼Ÿ

**A**: ç¼–è¾‘ `data/config/config.json`ï¼š
```json
{
  "launcher": {
    "default_platform": "deepseek"  // æ”¹ä¸ºä½ æƒ³è¦çš„å¹³å°
  }
}
```

### Q: æ”¯æŒå“ªäº›å¹³å°ï¼Ÿ

**A**: ç›®å‰æ”¯æŒï¼š
- **gaccode**: GAC Codeï¼ˆå›½å†…Claude APIï¼‰
- **deepseek**: DeepSeekï¼ˆæ·±åº¦æ±‚ç´¢ï¼‰
- **kimi**: Kimiï¼ˆæœˆä¹‹æš—é¢ï¼‰
- **siliconflow**: SiliconFlowï¼ˆç¡…åŸºæµåŠ¨ï¼‰

## ğŸš€ ä¸‹ä¸€æ­¥

1. **æ¢ç´¢é«˜çº§åŠŸèƒ½**: æŸ¥çœ‹ [å®Œæ•´æ–‡æ¡£](README.md)
2. **è‡ªå®šä¹‰æ˜¾ç¤º**: ä¿®æ”¹çŠ¶æ€æ æ˜¾ç¤ºé¡¹ç›®
3. **å¤šå¹³å°ä½¿ç”¨**: é…ç½®å¤šä¸ªAIå¹³å°
4. **å®‰å…¨å¢å¼º**: ä½¿ç”¨é…ç½®æ–‡ä»¶ç®¡ç†APIå¯†é’¥ï¼Œç¡®ä¿gitignoreä¿æŠ¤

## ğŸ“ è·å¾—å¸®åŠ©

- ğŸ“– æŸ¥çœ‹ [å®Œæ•´æ–‡æ¡£](README.md)
- ğŸ“‹ é˜…è¯» [é…ç½®æŒ‡å—](CONFIGURATION_GUIDE.md)
- ğŸ› æŠ¥å‘Šé—®é¢˜ï¼šGitHub Issues
- ğŸ’¬ è®¨è®ºäº¤æµï¼šGitHub Discussions

---

**è®°ä½**ï¼šv2.0é‡‡ç”¨çº¯é…ç½®é©±åŠ¨è®¾è®¡ï¼Œæ‚¨åªéœ€ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œç³»ç»Ÿå°±èƒ½è‡ªåŠ¨å·¥ä½œï¼ğŸ‰